<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>CybsPAPayment</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous" />
  <link rel="stylesheet" href="site.css" />
  <script src="https://songbirdstag.cardinalcommerce.com/cardinalcruise/v1/songbird.js"></script>
   
  <script>
      window.onload = () => {

        Cardinal.configure({
            logging: {
                level: "on"
            }
        });

        

//         Cardinal.on("payments.validated", function (data, jwt) {
//     switch(data.ActionCode){
//       case "SUCCESS":
//       // Handle successful transaction, send JWT to backend to verify
//       break;
     
//       case "NOACTION":
//       // Handle no actionable outcome
//       break;
     
//       case "FAILURE":
//       // Handle failed transaction attempt
//       break;
     
//       case "ERROR":
//       // Handle service level error
//       break;
//   }
// });



        Cardinal.setup("init", {
            jwt: document.getElementById("JWTContainer").value,
            order: {
				 Consumer: {
					 AccountNumber: "4000000000001091"
				 }
			 }
            });

            Cardinal.on('payments.setupComplete', function(setupCompleteData){
            console.log("sessionID = " + setupCompleteData.sessionId);
    // Do something
});

  

    };
  </script>

</head>
<body>

  <input type="hidden" id="JWTContainer" value="<%= token %>" />
  <div class="container wrapper">
    <div class="panel panel-info">
        <div class="panel-heading">
            <span class="glyphicon glyphicon-lock"></span> Payment Form
        </div>
        <div class="panel-body">
            <form accept-charset="UTF-8" action="/payment" autocomplete="off" method="post" novalidate="novalidate" id="payment-form">
                <div class="form-group">
                    <label for="cardType">Card Type</label>
                    <select class="form-control" id="cardType" name="cardType">
                        <option value="001">VISA</option>
                        <option value="002">MASTERCARD</option>
                        <option value="003">AMEX</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="cardNumber">Card number</label>
                    <input type="text" class="form-control" id="creditCardNumber" name="creditCardNumber" maxlength="19"/>
                </div>
                <div class="form-group">
                    <label for="cvn">Security code</label>
                    <input type="text" id="cvn" name="cvn" class="form-control" maxlength="4" />
                </div>
                <div class="form-group">
                    <label for="cardExpirationMonth">Expiration Date</label>
                    <div class="row">
                        <div class="col-xs-6">
                            <select class="form-control" name="expiryMonth" id="expiryMonth">
                                <option value="01">01 (JAN)</option>
                                <option value="02">02 (FEB)</option>
                                <option value="03">03 (MAR)</option>
                                <option value="04">04 (APR)</option>
                                <option value="05">05 (MAY)</option>
                                <option value="06">06 (JUN)</option>
                                <option value="07">07 (JUL)</option>
                                <option value="08">08 (AUG)</option>
                                <option value="09">09 (SEP)</option>
                                <option value="10">10 (OCT)</option>
                                <option value="11">11 (NOV)</option>
                                <option value="12">12 (DEC)</option>
                            </select>
                        </div>
                        <div class="col-xs-6">
                            <select class="form-control" name="expiryYear" id="expiryYear">
                                <option>2020</option>
                                <option>2021</option>
                                <option>2022</option>
                                <option>2023</option>
                                <option>2024</option>
                                <option>2025</option>
                                <option>2026</option>
                            </select>
                        </div>
                    </div>
                </div>

                <button type="submit" id="pay-btn" class="btn btn-lg btn-block btn-primary">Pay Now</button>
              </form>
            </div>
        </div>
    </div>
  
</body>
</html>

